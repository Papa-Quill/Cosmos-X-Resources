alias a"ent_create item_teamflag;
alias b"give func_capturezone;
alias c"give game_text;
alias d"give math_counter;
alias e"give logic_case;
alias f"give game_round_win;
alias g"give logic_relay;
ent_fire team_round_timer kill;ent_fire team_control_point_master disable;ent_fire trigger_capture_area kill;ent_fire team_control_point kill;ent_fire prop_cap_blue_front kill;ent_fire prop_cap_red_front kill;
ent_fire prop_cap_center kill;ent_fire logic_relay addoutput"classname maplr;ent_fire game_text kill;ent_fire game_text_tf kill;
ent_fire logic_case addoutput"classname no;
ent_fire math_counter addoutput"classname no;
ent_fire logic_timer addoutput"classname no;
give point_servercommand;ent_fire point_servercommand addoutput"classname psc;
noclip;setpos 1143 1994 890;setang 90 90;
Test_Wait .1;
a;ent_fire item_teamflag addoutput"hammerid 10";test_wait .1;ent_keyvalue 10 classname blueflag origin"-1536 5840 -338"angles"0 300"OnCapture"blueflag,addoutput,origin -1536 5840 -338"OnReturn"blueflag,addoutput,origin -1536 5840 -338;
ent_fire blueflag setteam 3;ent_fire blueflag skin 1;
a;ent_fire item_teamflag addoutput"hammerid 11";test_wait .1;ent_keyvalue 11 classname redflag origin"-1537 -5073 -338"angles"0 120"OnCapture"redflag,addoutput,origin -1537 -5073 -338"OnReturn"redflag,addoutput,origin -1537 -5073 -338;
ent_fire redflag setteam 2;ent_fire redflag skin 0;
b;ent_fire func_capturezone addoutput"hammerid 12";test_wait .1;ent_keyvalue 12 classname cap_ab origin"-1536 5840 -358"OnCapture"blue_flag_count,add,1;
ent_fire cap_ab setteam 3;
b;ent_fire func_capturezone addoutput"hammerid 13";test_wait .1;ent_keyvalue 13 classname cap_ar origin"-1537 -5073 -358"OnCapture"red_flag_count,add,1;
ent_fire cap_ar setteam 2;
test_wait .1;
ent_fire cap_a* addoutput"maxs 60 80 100;
ent_fire cap_a* addoutput"mins -60 -80;
ent_fire cap_a* addoutput"Solid 2;
c;ent_fire game_text addoutput"hammerid 80";test_wait .1;ent_keyvalue 80 classname ctf_flag message"Capture the Flag"channel"1"holdtime"10"color"255 255 255"x"-1"y".14"spawnflags"1"
give logic_timer;ent_fire logic_timer addoutput "hammerid 81";test_wait .1;ent_keyvalue 81 classname timer_ctf_text refiretime"1"startdisabled"0"UseRandomTime"0"OnTimer"ctf_*,display,,0,-1"
ent_fire timer_ctf_text enable;ent_fire timer_ctf_text firetimer;
give team_round_timer;ent_fire team_round_timer addoutput"hammerid 82";test_wait .1;ent_keyvalue 82 OnRoundStart"credits,display,,5"OnRoundStart"blueflag,addoutput,origin -1536 5840 -338"OnRoundStart"redflag,addoutput,origin -1537 -5073 -338;;
ent_keyvalue 82 OnRoundStart"red_flag_count,setvalue,0"OnRoundStart"blue_flag_count,setvalue,0"OnRoundStart"door_middle*,Open"OnRoundStart"brush_middle*,Open"OnRoundStart"team_control_point_master,SetCapLayout,,.1;
ent_keyvalue 82 OnRoundStart"team_control_point_master,SetCapLayout,10,.2"OnRoundStart"tf_gamerules,setblueteamgoalstring,Grab the Intelligence from the red base. Return it to your base to win!,.2";
ent_keyvalue 82 OnRoundStart"tf_gamerules,setredteamgoalstring,Grab the Intelligence from the blue base. Return it to your base to win!,.2";
Test_Wait .1;
c;ent_fire game_text addoutput"hammerid 83";test_wait .1;ent_keyvalue 83 classname ctf_blue channel"3"holdtime"10"color"255 255 255"x".58"y".8"spawnflags"1;
d;ent_fire math_counter addoutput"hammerid 84";test_wait .1;ent_keyvalue 84 classname blue_flag_count min"0"max"3"OutValue"lc_blue_flag_count,InValue"OnHitMax"lr_blue_win,Trigger;
e;ent_fire logic_case addoutput"hammerid 85";test_wait .1;ent_keyvalue 85 classname lc_blue_flag_count Case01"0"Case02"1"Case03"2"Case04"3"OnCase01"ctf_blue,addoutput,message Blu Team (0)"OnCase02"ctf_blue,addoutput,message Blu Team (1);
ent_keyvalue 85 OnCase03"ctf_blue,addoutput,message Blu Team (2)"OnCase04"ctf_blue,addoutput,message Blu Team (3);
f;ent_fire game_round_win addoutput"classname win_blue";ent_fire win_blue setteam 3
g;ent_fire logic_relay addoutput"classname lr_blue_win";ent_fire lr_blue_win addoutput"OnTrigger win_blue,RoundWin;
c;ent_fire game_text addoutput"hammerid 86";test_wait .1;ent_keyvalue 86 classname ctf_red channel"2"holdtime"10"color"255 255 255"x".32"y".8"spawnflags"1;
d;ent_fire math_counter addoutput"hammerid 87";test_wait .1;ent_keyvalue 87 classname red_flag_count min"0"max"3"OutValue"lc_red_flag_count,InValue"OnHitMax"lr_red_win,Trigger;
e;ent_fire logic_case addoutput"hammerid 88";test_wait .1;ent_keyvalue 88 classname lc_red_flag_count Case01"0"Case02"1"Case03"2"Case04"3"OnCase01"ctf_red,addoutput,message Red Team (0)"OnCase02"ctf_red,addoutput,message Red Team (1);
ent_keyvalue 88 OnCase03"ctf_red,addoutput,message Red Team (2)"OnCase04"ctf_red,addoutput,message Red Team (3);
f;ent_fire game_round_win addoutput"classname win_red";ent_fire win_red setteam 2;
g;ent_fire logic_relay addoutput"classname lr_red_win";ent_fire lr_red_win addoutput "OnTrigger win_red,RoundWin;
Test_Wait .1;
ent_fire win_* addoutput"force_map_reset 0;
ent_fire lr_* addoutput"OnTrigger psc,Command,mp_scrambleteams;
ent_fire lr_* addoutput"OnTrigger psc,Command,mp_restartround 10,1.5;
give game_text_tf;ent_fire game_text_tf addoutput"hammerid 89";test_wait .1;ent_keyvalue 89 classname credits message"CTF script by FrozenWasteland"icon"voice_player;
mp_restartround 1;
///