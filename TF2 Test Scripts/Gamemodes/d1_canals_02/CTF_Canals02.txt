// CTF - d1_canals_02
alias a"ent_create func_respawnroomvisualizer
alias b"prop_dynamic_create props_trainyard/crane_platform001;
alias c"prop_dynamic_create props_gameplay/resupply_locker;
alias d"prop_dynamic_create props_spytech/work_table001;
alias e"prop_dynamic_create props_gameplay/sewer_door01;
alias f"prop_dynamic_create props_gameplay/sign_gameplay01
alias g"ent_create item_teamflag;
alias h"prop_dynamic_create effects/portalfunnel;
alias i"give func_capturezone;
alias j"give trigger_multiple;
alias k"ent_create info_player_teamspawn;
alias l"give game_text;
alias m"give math_counter;
alias n"give logic_case;
alias o"give game_round_win;
alias p"give logic_relay;
ent_fire prop_physics kill;ent_fire func_physbox kill;ent_fire prop_ragdoll kill;ent_fire trigger_push kill;ent_fire trigger_once kill;ent_fire entrance_clip kill;ent_fire trigger_multiple kill;ent_fire func_breakable kill;
ent_fire func_useableladder kill;ent_fire info_ladder_dismount kill;
give give point_clientcommand;ent_fire give point_clientcommand addoutput"classname pcc;
ent_create point_servercommand;ent_fire point_servercommand addoutput"classname psc;
noclip;setpos -1015.721375 -2641.466064 1631;setang 90 90;
b;ent_setname bp1;ent_fire bp1 addoutput"origin 4192 -2464 -511";ent_fire bp1 addoutput"angles 0 0 -90;
b;ent_setname bp2;ent_fire bp2 addoutput"origin 4192 -2354 -511";ent_fire bp2 addoutput"angles 0 180 -90;
b;ent_setname bp3;ent_fire bp3 addoutput"origin 4351 -2401 -511";ent_fire bp3 addoutput "angles 0 90 -90;
b;ent_setname bp4;ent_fire bp4 addoutput"origin 4192 -2400 -352";ent_fire bp4 addoutput "angles 0 180 180;
b;ent_setname bp6;ent_fire bp6 addoutput"origin 3274 -2338 -675";ent_fire bp6 addoutput"angles -27;
b;ent_setname bp6B;ent_fire bp6B addoutput"origin 3436 -2422 -593";ent_fire bp6B addoutput"angles -26.6;
b;ent_setname bp7;ent_fire bp7 addoutput"origin 2902 -2469 -747";ent_fire bp7 addoutput"angles 0 0 39.5;
b;ent_setname bp12;ent_fire bp12 addoutput"origin 1592 -328.969 -846";ent_fire bp12 addoutput"angles -30.5;
b;ent_setname bp13;ent_fire bp13 addoutput"origin 1592 -663 -846";ent_fire bp13 addoutput"angles -30.5;
b;ent_setname bp14;ent_fire bp14 addoutput"origin 380 335 -731";ent_fire bp14 addoutput"angles 0;
b;ent_setname bp15;ent_fire bp15 addoutput"origin 380 6 -800";ent_fire bp15 addoutput"angles 0 0 23.5;
b;ent_setname bp16;ent_fire bp16 addoutput"origin 380 663 -799";ent_fire bp16 addoutput"angles 0 180 23.5;
b;ent_setname bp17;ent_fire bp17 addoutput"origin 380 848 -879"ent_fire bp17 addoutput"angles 0 180 23.5;
b;ent_setname bp18;ent_fire bp18 addoutput"origin 380 -106 -849";ent_fire bp18 addoutput"angles 0 0 23.5;
b;ent_setname bp19;ent_fire bp19 addoutput"origin 380 1531 -835";ent_fire bp19 addoutput"angles 0;
b;ent_setname bp20;ent_fire bp20 addoutput "origin 380 1202 -904";ent_fire bp20 addoutput"angles 0 0 23.5;
Test_Wait .1;c;ent_setname resb;ent_fire resb addoutput"origin 4336 -2408 -512";ent_fire resb addoutput "angles 0 180;
Test_Wait .1;c;ent_setname resr;ent_fire resr addoutput"origin 48 1327.87 -769";ent_fire resr addoutput"angles 0 180;
Test_Wait .1;d;ent_setname bt8;ent_fire bt8 addoutput"origin 2740.04 -2247.86 -639";ent_fire bt8 addoutput"angles 0;
Test_Wait .1;d;ent_setname bt23;ent_fire bt23 addoutput"origin 428.58 1429.96 -836";ent_fire bt23 addoutput"angles 0 270;
Test_Wait .1;e;ent_setname bt9;ent_fire bt9 addoutput"origin 2705 -2248 -613";ent_fire bt9 addoutput"angles -90;
Test_Wait .1;e;ent_setname bt21;ent_fire bt21 addoutput"origin 428.436 1465 -810";ent_fire bt21 addoutput"angles -90 270;
Test_Wait .1;f;ent_setname bt10;ent_fire bt10 addoutput"origin 2711 -2249 -561;
Test_Wait .1;f;ent_setname bt22;ent_fire bt22 addoutput"origin 427.436 1459 -758";ent_fire bt22 addoutput"angles 0 270";ent_fire bt22 skin 7;
Test_Wait .1;h;ent_setname cbl26;ent_fire cbl26 addoutput"origin -510 484 -391;
Test_Wait .1;h;ent_setname cbl27;ent_fire cbl27 addoutput"origin -510 484 72;
Test_Wait .1;h;ent_setname cbl28;ent_fire cbl28 addoutput"origin -511 -713 72;
Test_Wait .1;h;ent_setname cbl29;ent_fire cbl29 addoutput"origin -511 -713 -391;
Test_Wait .1;h;ent_setname cbl30;ent_fire cbl30 addoutput"origin -511 -1883 72;
Test_Wait .1;h;ent_setname cbl31;ent_fire cbl31 addoutput"origin -511 -1883 -391;
Test_Wait .1;h;ent_setname cbl32;ent_fire cbl32 addoutput"origin -528 -3035 72;
Test_Wait .1;h;ent_setname cbl33;ent_fire cbl33 addoutput"origin -528 -3035 -391;
Test_Wait .1;h;ent_setname cbl34;ent_fire cbl34 addoutput"origin 352.776 -2714 71.8177;
Test_Wait .1;h;ent_setname cbl35;ent_fire cbl35 addoutput"origin 352.776 -2714 -391.182;
Test_Wait .1;h;ent_setname cbl36;ent_fire cbl36 addoutput"origin 3842.62 -625.515 199.818;
Test_Wait .1;h;ent_setname cbl37;ent_fire cbl37 addoutput"origin 3842.62 -625.515 -263.182;
Test_Wait .1;h;ent_setname cbl38;ent_fire cbl38 addoutput"origin 3065 356 199.818;
Test_Wait .1;h;ent_setname cbl39;ent_fire cbl39 addoutput"origin 3065 356 -263.182;
Test_Wait .1;h;ent_setname cbl40;ent_fire cbl40 addoutput"origin 1149 489 64;
Test_Wait .1;h;ent_setname cbl41;ent_fire cbl41 addoutput"origin 1149 489 -399;
Test_Wait .1;
ent_fire cbl* disable;
ent_fire cbl* addoutput"angles 0;
Test_Wait .1;
ent_create item_healthkit_medium;ent_fire item_healthkit_medium addoutput"hammerid 1";test_wait .1;ent_keyvalue 1 classname health_kit origin"360 -1844 -831"OnPlayerTouch"health_kit,addoutput,origin 360 -1844 -831;
Test_Wait .1;
ent_create item_ammopack_medium;ent_fire item_ammopack_medium addoutput"hammerid 2";test_wait .1;ent_keyvalue 2 classname ammo origin"308 -1844 -831"OnPlayerTouch"ammo,addoutput,origin 308 -1844 -831;
Test_Wait .1;
a;ent_fire func_respawnroomvisualizer addoutput"hammerid 3";test_wait .1;ent_keyvalue 3 classname red_block maxs"10 70 260"origin"270 1398 -832"solid"2;
ent_fire red_block setteam 2
Test_Wait .1;
a;ent_fire func_respawnroomvisualizer addoutput"hammerid 4";test_wait .1;ent_keyvalue 4 classname blue_block maxs"10 140 260"origin"3523 -2488 -550"solid"2;
ent_fire blue_block setteam 3
Test_Wait .1;
g;ent_fire item_teamflag addoutput"hammerid 5";test_wait .1;ent_keyvalue 5 classname blueflag origin"2741 -2248 -593"angles"0 300"OnCapture"blueflag,addoutput,origin 2741 -2248 -593"OnReturn"blueflag,addoutput,origin 2741 -2248 -593;
ent_fire blueflag setteam 3;
ent_fire blueflag skin 1;
Test_Wait .1;
i;ent_fire func_capturezone addoutput"hammerid 6";test_wait .1;ent_keyvalue 6 classname bluecapzone origin"2741 -2248 -593"maxs"60 80 100"mins"-60 -80"OnCapture"blue_flag_count,add,1"Solid"2;
ent_fire bluecapzone setteam 3;
Test_Wait .1;
g;ent_fire item_teamflag addoutput"hammerid 7";test_wait .1;ent_keyvalue 7 classname redflag origin"428 1428 -790"angles"0 120"OnCapture"redflag,addoutput,origin 428 1428 -790"OnReturn"redflag,addoutput,origin 428 1428 -790;
ent_fire redflag setteam 2;ent_fire redflag skin 0;
Test_Wait .1;i;ent_fire func_capturezone addoutput"hammerid 8";test_wait .1;ent_keyvalue 8 classname redcapzone origin"428 1428 -790"maxs"60 80 100"mins"-60 -80"OnCapture"red_flag_count,add,1"Solid"2;
ent_fire redcapzone setteam 2;
j;ent_fire trigger_multiple addoutput"hammerid 9";test_wait .1;ent_keyvalue 9 classname tm origin"4336 -2408 -512"OnStartTouch"resb,setanimation,Open"OnEndTouchAll"resb,setanimation,Close;
k;ent_fire info_player_teamspawn addoutput"classname spawnblue";ent_fire spawnblue addoutput"origin 4219 -2419 -506";ent_fire spawnblue setteam 3;
j;ent_fire trigger_multiple addoutput"hammerid 10";test_wait .1;ent_keyvalue 10 classname tm origin"48 1327 -769"OnStartTouch"resr,setanimation,Open"OnEndTouchAll"resr,setanimation,Close;
k;ent_fire info_player_teamspawn addoutput"classname spawnred";ent_fire spawnred addoutput"origin -20 1596 -758";ent_fire spawnred setteam 2;
l;ent_fire game_text addoutput"hammerid 11";test_wait .1;ent_keyvalue 11 classname ctf_flag message"Capture the Flag"channel"1"holdtime"10"color"255 255 255"x"-1"y".14"spawnflags"1;
give logic_timer;ent_fire logic_timer addoutput "hammerid 12";test_wait .1;ent_keyvalue 12 classname timer_ctf_text refiretime"1"startdisabled"0"UseRandomTime"0"OnTimer"ctf_*,display,,0,-1;
ent_fire timer_ctf_text enable;ent_fire timer_ctf_text firetimer;
give team_round_timer;ent_fire team_round_timer addoutput"hammerid 13";test_wait .1;ent_keyvalue 13 OnRoundStart"credits,display,,5"OnRoundStart"blueflag,addoutput,origin 2741 -2248 -593"OnRoundStart"redflag,addoutput,origin 428 1428 -790;
ent_keyvalue 13 OnRoundStart"red_flag_count,setvalue,0"OnRoundStart"blue_flag_count,setvalue,0;
Test_Wait .1;
l;ent_fire game_text addoutput"hammerid 14";test_wait .1;ent_keyvalue 14 classname ctf_blue channel"3"holdtime"10"color"255 255 255"x".58"y".8"spawnflags"1;
m;ent_fire math_counter addoutput"hammerid 15";test_wait .1;ent_keyvalue 15 classname blue_flag_count min"0"max"3"OutValue"lc_blue_flag_count,InValue"OnHitMax"lr_blue_win,Trigger;
n;ent_fire logic_case addoutput"hammerid 16";test_wait .1;ent_keyvalue 16 classname lc_blue_flag_count Case01"0"Case02"1"Case03"2"Case04"3"OnCase01"ctf_blue,addoutput,message Blu Team (0)"OnCase02"ctf_blue,addoutput,message Blu Team (1);
ent_keyvalue 16 OnCase03"ctf_blue,addoutput,message Blu Team (2)"OnCase04"ctf_blue,addoutput,message Blu Team (3);
o;ent_fire game_round_win addoutput"classname win_blue";ent_fire win_blue setteam 3;
p;ent_fire logic_relay addoutput"classname lr_blue_win";ent_fire lr_blue_win addoutput"OnTrigger win_blue,RoundWin;
l;ent_fire game_text addoutput"hammerid 17";test_wait .1;ent_keyvalue 17 classname ctf_red channel"2"holdtime"10"color"255 255 255"x".32"y".8"spawnflags"1;
m;ent_fire math_counter addoutput"hammerid 18";test_wait .1;ent_keyvalue 18 classname red_flag_count min"0"max"3"OutValue"lc_red_flag_count,InValue"OnHitMax"lr_red_win,Trigger;
n;ent_fire logic_case addoutput"hammerid 19";test_wait .1;ent_keyvalue 19 classname lc_red_flag_count Case01"0"Case02"1"Case03"2"Case04"3"OnCase01"ctf_red,addoutput,message Red Team (0)"OnCase02"ctf_red,addoutput,message Red Team (1);
ent_keyvalue 19 OnCase03"ctf_red,addoutput,message Red Team (2)"OnCase04"ctf_red,addoutput,message Red Team (3)"
o;ent_fire game_round_win addoutput"classname win_red";ent_fire win_red setteam 2;
p;ent_fire logic_relay addoutput"classname lr_red_win";ent_fire lr_red_win addoutput"OnTrigger win_red,RoundWin;
Test_Wait .1;
ent_fire win_* addoutput"force_map_reset 0
ent_fire lr_* addoutput"OnTrigger psc,Command,mp_scrambleteams;
ent_fire lr_* addoutput"OnTrigger psc,Command,mp_restartround 10,1.5;
give game_text_tf;ent_fire game_text_tf addoutput"hammerid 89";test_wait .1;ent_keyvalue 89 classname credits message"CTF script by FrozenWasteland"icon"voice_player;
Test_Wait .1;
ent_fire tm addoutput"spawnflags 1;
ent_fire tm addoutput"solid 2;
ent_fire tm addoutput"maxs 30 50 90;
ent_fire tm addoutput"mins -30 -50 -90;
ent_fire tm addoutput"OnStartTouch pcc,command,impulse 101;
ent_fire spawn* addoutput"classname info_player_teamspawn;
ent_fire win_* addoutput"force_map_reset 0;
mp_restartround 1;
///