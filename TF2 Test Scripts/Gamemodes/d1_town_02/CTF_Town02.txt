// CTF - d1_town_02
alias a"give func_respawnroomvisualizer;
alias b"prop_dynamic_create props_spytech/work_table001;
alias c"ent_create item_teamflag;
alias d"prop_dynamic_create props_mining/support_wall001a
alias e"give func_capturezone;
alias f"ent_create func_nobuild;
alias g"ent_create info_player_teamspawn;
alias h"give trigger_multiple;
alias i"give game_text;
alias j"give math_counter;
alias k"give logic_case;
alias l"give game_round_win;
alias m"give logic_relay;
ent_fire fence_clip Kill;ent_fire trigger_push Kill;ent_fire pod Kill;ent_fire prop_physics Kill;ent_fire prop_ragdoll Kill;ent_fire logic_relay kill;ent_fire trigger_once kill;ent_fire logic_case kill;ent_fire math_counter kill;
ent_fire func_useableladder kill;ent_fire info_ladder_dismount kill;
ent_fire trigger_multiple addoutput"classname map_trig;
give point_clientcommand;ent_fire pcc addoutput "classname pcc;
give point_servercommand;ent_fire point_servercommand addoutput"classname psc;
noclip;setpos -415 1268 -3206;setang 90 90;
Test_Wait .1;
prop_dynamic_create props_2fort/frog;ent_setname bodygaurd_frog;ent_fire bodygaurd_frog addoutput"origin -659 713 -3440";ent_fire bodygaurd_frog addoutput"angles 0 180;
Test_Wait .1;
d;ent_setname blue_intell_ramp;ent_fire blue_intell_ramp addoutput"origin -3135 130 -3576";ent_fire blue_intell_ramp addoutput"angles 63 90;
Test_Wait .1;
d;ent_setname fence_ramp1;ent_fire fence_ramp1 addoutput"origin -3019 468 -3582";ent_fire fence_ramp1 addoutput"angles 50;
Test_Wait .1;
d;ent_setname fence_ramp2;ent_fire fence_ramp2 addoutput"origin -2617 469 -3584";ent_fire fence_ramp2 addoutput"angles 50 180;
Test_Wait .1;
b;ent_setname blue_table;ent_fire blue_table addoutput "origin -3197 -30 -3578";ent_fire blue_table addoutput"angles 0 90;
Test_Wait .1;
b;ent_setname red_table;ent_fire red_table addoutput"origin -1101 356 -3456";ent_fire red_table addoutput"angles 0 90;
Test_Wait .1;
prop_dynamic_create props_gameplay/resupply_locker;ent_setname blue_cab;ent_fire blue_cab addoutput "origin -3804 -862 -3584";ent_fire blue_cab addoutput"angles 0 -90;
Test_Wait .1;
prop_dynamic_create props_gameplay/resupply_locker;ent_setname red_cab;ent_fire red_cab addoutput"origin -896 894 -3440";ent_fire red_cab addoutput"angles 0 -90;
a;ent_fire func_respawnroomvisualizer addoutput"hammerid 90";test_wait .1;ent_keyvalue 90 classname red_block maxs"10 100 200"solid"2"origin"-1085 776 -3456;
ent_fire red_block setteam 2;
Test_Wait .1;
a;ent_fire func_respawnroomvisualizer addoutput"hammerid 91";test_wait .1;ent_keyvalue 91 classname blue_block maxs"500 10 600"solid"2"origin"-3451 -64 -3573;
ent_fire blue_block setteam 3;
Test_Wait .1;
c;ent_fire item_teamflag addoutput"hammerid 92";test_wait .1;ent_keyvalue 92 classname redflag origin"-1099 359 -3411"GameType"0"StartDisabled"0"angles"0 300"OnCapture"redflag,addoutput,origin -1099 359 -3411"OnReturn"redflag,addoutput,origin -1099 359 -3411;
ent_fire redflag setteam 2;
Test_Wait .1;
e;ent_fire func_capturezone addoutput"hammerid 93";test_wait .1;ent_keyvalue 93 classname redcapzone controlpoint"1"origin"-1101 356 -3456"OnCapture"red_flag_count,add,1"maxs"60 80 100"mins"-60 -80"Solid"2;
ent_fire redcapzone setteam 2;
Test_Wait .1;
c;ent_fire item_teamflag addoutput"hammerid 94";test_wait .1;ent_keyvalue 94 classname blueflag origin"-3199 -31 -3532"GameType"0"StartDisabled"0"angles"0 300"OnCapture"blueflag,addoutput,origin -3199 -31 -3532"OnReturn"blueflag,addoutput,origin -3199 -31 -3532;
ent_fire blueflag setteam 3;ent_fire blueflag skin 1;
Test_Wait .1;
e;ent_fire func_capturezone addoutput"hammerid 95";test_wait .1;ent_keyvalue 95 classname bluecapzone controlpoint"1"origin"-3197 -30 -3578"OnCapture"blue_flag_count,add,1"maxs"60 80 100"mins"-60 -80"Solid"2;
ent_fire bluecapzone setteam 3;
Test_Wait .1;
f;ent_fire func_nobuild addoutput"hammerid 96";test_wait .1;ent_keyvalue 96 classname blue_nobuild maxs"50 50 50"mins"-50 -50"solid"2"origin"-3071 -68 -3573;
Test_Wait .1;
f;ent_fire func_nobuild addoutput"hammerid 97";test_wait .1;ent_keyvalue 97 classname red_nobuild maxs"50 50 50"mins"-50 -50"solid"2"origin"-1080 804 -3456;
Test_Wait .1;
g;ent_fire info_player_teamspawn addoutput"classname spawnblue1";ent_fire spawnblue1 addoutput"origin -3483 -1029 -3572";ent_fire spawnblue1 setteam 3;
Test_Wait .1;
g;ent_fire info_player_teamspawn addoutput"classname spawnblue2";ent_fire spawnblue2 addoutput"origin -3695 -1029 -3572";ent_fire spawnblue2 setteam 3;
Test_Wait .1;
g;ent_fire info_player_teamspawn addoutput"classname spawnblue3";ent_fire spawnblue3 addoutput"origin -3813 -1029 -3572";ent_fire spawnblue3 setteam 3;
Test_Wait .1;
g;ent_fire info_player_teamspawn addoutput"classname spawnred1";ent_fire spawnred1 addoutput"origin -888 703 -3420";ent_fire spawnred1 setteam 2;
Test_Wait .1;
g;ent_fire info_player_teamspawn addoutput"classname spawnred2";ent_fire spawnred2 addoutput"origin -750 712 -3420";ent_fire spawnred2 setteam 2;
Test_Wait .1;
g;ent_fire info_player_teamspawn addoutput"classname spawnred3";ent_fire spawnred3 addoutput"origin -840 814 -3420";ent_fire spawnred3 setteam 2;
Test_Wait .1;
h;ent_fire trigger_multiple addoutput"hammerid 98";test_wait .1;ent_keyvalue 98 classname tm OnStartTouch"blue_cab,setanimation,Open"OnEndTouchAll"blue_cab,setanimation,Close"origin"-3804 -862 -3584;
Test_Wait .1;
h;ent_fire trigger_multiple addoutput"hammerid 99";test_wait .1;ent_keyvalue 99 classname tm OnStartTouch"red_cab,setanimation,Open"OnEndTouchAll"red_cab,setanimation,Close"origin"-896 894 -3440;
Test_Wait .1;
ent_fire tm addoutput"OnStartTouch pcc,command,impulse 101;
ent_fire tm addoutput"mins -30 -50 -90;
ent_fire tm addoutput"maxs 30 50 90;
ent_fire tm addoutput"spawnflags 1;
ent_fire tm addoutput"solid 2;
Test_Wait .1;
i;ent_fire game_text addoutput"hammerid 80";test_wait .1;ent_keyvalue 80 classname ctf_flag message"Capture the Flag"channel"1"holdtime"10"color"255 255 255"x"-1"y".14"spawnflags"1"
give logic_timer;ent_fire logic_timer addoutput "hammerid 81";test_wait .1;ent_keyvalue 81 classname timer_ctf_text refiretime"1"startdisabled"0"UseRandomTime"0"OnTimer"ctf_*,display,,0,-1"
ent_fire timer_ctf_text enable;ent_fire timer_ctf_text firetimer;
give team_round_timer;ent_fire team_round_timer addoutput"hammerid 82";test_wait .1;ent_keyvalue 82 OnRoundStart"credits,display,,5"OnRoundStart"blueflag,addoutput,origin -3199 -31 -3532"OnRoundStart"redflag,addoutput,origin -1099 359 -3411;
ent_keyvalue 82 OnRoundStart"red_flag_count,setvalue,0"OnRoundStart"blue_flag_count,setvalue,0;
Test_Wait .1;
i;ent_fire game_text addoutput"hammerid 83";test_wait .1;ent_keyvalue 83 classname ctf_blue channel"3"holdtime"10"color"255 255 255"x".58"y".8"spawnflags"1;
j;ent_fire math_counter addoutput"hammerid 84";test_wait .1;ent_keyvalue 84 classname blue_flag_count min"0"max"3"OutValue"lc_blue_flag_count,InValue"OnHitMax"lr_blue_win,Trigger;
k;ent_fire logic_case addoutput"hammerid 85";test_wait .1;ent_keyvalue 85 classname lc_blue_flag_count Case01"0"Case02"1"Case03"2"Case04"3"OnCase01"ctf_blue,addoutput,message Blu Team (0)"OnCase02"ctf_blue,addoutput,message Blu Team (1);
ent_keyvalue 85 OnCase03"ctf_blue,addoutput,message Blu Team (2)"OnCase04"ctf_blue,addoutput,message Blu Team (3);
l;ent_fire game_round_win addoutput"classname win_blue";ent_fire win_blue setteam 3
m;ent_fire logic_relay addoutput"classname lr_blue_win";ent_fire lr_blue_win addoutput"OnTrigger win_blue,RoundWin;
i;ent_fire game_text addoutput"hammerid 86";test_wait .1;ent_keyvalue 86 classname ctf_red channel"2"holdtime"10"color"255 255 255"x".32"y".8"spawnflags"1;
j;ent_fire math_counter addoutput"hammerid 87";test_wait .1;ent_keyvalue 87 classname red_flag_count min"0"max"3"OutValue"lc_red_flag_count,InValue"OnHitMax"lr_red_win,Trigger;
k;ent_fire logic_case addoutput"hammerid 88";test_wait .1;ent_keyvalue 88 classname lc_red_flag_count Case01"0"Case02"1"Case03"2"Case04"3"OnCase01"ctf_red,addoutput,message Red Team (0)"OnCase02"ctf_red,addoutput,message Red Team (1);
ent_keyvalue 88 OnCase03"ctf_red,addoutput,message Red Team (2)"OnCase04"ctf_red,addoutput,message Red Team (3)"
l;ent_fire game_round_win addoutput"classname win_red";ent_fire win_red setteam 2;
m;ent_fire logic_relay addoutput"classname lr_red_win";ent_fire lr_red_win addoutput"OnTrigger win_red,RoundWin;
Test_Wait .1;
ent_fire win_* addoutput"force_map_reset 0
ent_fire lr_* addoutput"OnTrigger psc,Command,mp_scrambleteams;
ent_fire lr_* addoutput"OnTrigger psc,Command,mp_restartround 10,1.5;
give game_text_tf;ent_fire game_text_tf addoutput"hammerid 89";test_wait .1;ent_keyvalue 89 classname credits message"CTF script by FrozenWasteland"icon"voice_player;
Test_Wait .1;
ent_fire red_nobuild addoutput "classname func_nobuild;
ent_fire blue_nobuild addoutput "classname func_nobuild;
ent_fire spawn* addoutput"classname info_player_teamspawn;
mp_restartround 1;
///