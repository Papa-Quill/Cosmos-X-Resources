//CTF - d2_prison_03
alias a"prop_dynamic_create props_spytech/work_table001;
alias b"prop_dynamic_create props_gameplay/sign_gameplay01;
alias c"give func_respawnroomvisualizer;
alias d"ent_create item_teamflag;
alias e"give func_capturezone;
alias f"give trigger_multiple;
alias g"prop_dynamic_create props_gameplay/resupply_locker;
alias h"give info_player_teamspawn;
alias i"give game_text;
alias j"give math_counter;
alias k"give logic_case;
alias l"give game_round_win;
alias m"give logic_relay;
ent_fire prop_physics kill;ent_fire logic_relay kill;ent_fire func_breakable kill;ent_fire trigger_once kill;ent_fire func_physbox kill;ent_fire prop_ragdoll kill;ent_fire prop_door_rotating kill;ent_fire prop_dynamic kill;
ent_fire func_brush kill;ent_fire trigger_multiple kill;ent_fire spawn* kill;ent_fire ent_fire info_player_start kill;ent_fire trigger_changelevel kill;ent_fire point_template kill;ent_fire logic_case kill;
ent_fire func_useableladder kill;ent_fire info_ladder_dismount kill;
ent_fire playerclip_show_dropdown addoutput"classname no;
give point_clientcommand;ent_fire point_clientcommand addoutput"classname pcc;
give point_servercommand;ent_fire point_servercommand addoutput"classname psc;
noclip;
test_wait 1;
setpos -2139 2692 845;setang 90 90;
Test_Wait .2;
a;ent_setname redtable;ent_fire redtable addoutput"origin -3493 2400.4 0";ent_fire redtable addoutput"angles 0 90;
a;ent_setname bluetable;ent_fire bluetable addoutput "origin -3906 6162.3 0";ent_fire bluetable addoutput"angles 0 90;
Test_Wait .1;
b;ent_setname redsign;ent_fire redsign addoutput"origin -3493 2368 82";ent_fire redsign addoutput"angles 0 90";ent_fire redsign skin 7;
b;ent_setname bluesign;ent_fire bluesign addoutput"origin -3907.1 6208 72";ent_fire bluesign addoutput"angles 0 -90";ent_fire bluesign skin 6;
Test_Wait .1;
g;ent_setname blue_cab;ent_fire blue_cab addoutput"origin -3086 6053 0";ent_fire blue_cab addoutput"angles 0 180;
g;ent_setname red_cab;ent_fire red_cab addoutput"origin -3426 1844 0";ent_fire red_cab addoutput"angles 0 -90;
Test_Wait .1;
prop_dynamic_create props_c17/metalladder002;ent_setname ladder;ent_fire ladder addoutput"origin -2771 4796 0";ent_fire ladder addoutput"angles 0 180;
Test_Wait .1;
Test_CreateEntity func_brush;
ent_fire func_brush addoutput"classname brush1"
ent_fire brush1 addoutput"origin -2783 4785 0;
Test_Wait .1;
Test_CreateEntity func_brush;
ent_fire func_brush addoutput"classname brush2;
ent_fire brush2 addoutput"origin -2782.9 4785 1;
Test_Wait .1;
Test_CreateEntity func_brush;
ent_fire func_brush addoutput"classname brush3;
ent_fire brush3 addoutput"origin -2782.8 4785 36;
Test_Wait .1;
Test_CreateEntity func_brush;
ent_fire func_brush addoutput"classname brush4;
ent_fire brush4 addoutput"origin -2782.7 4785 54;
Test_Wait .1;
Test_CreateEntity func_brush;
ent_fire func_brush addoutput"classname brush5;
ent_fire brush5 addoutput"origin -2782.6 4785 72;
Test_Wait .1;
Test_CreateEntity func_brush;
ent_fire func_brush addoutput"classname brush6;
ent_fire brush6 addoutput"origin -2782.5 4785 90;
Test_Wait .1
Test_CreateEntity func_brush;
ent_fire func_brush addoutput"classname brush7;
ent_fire brush7 addoutput"origin -2782.4 4785 108;
Test_Wait .1
Test_CreateEntity func_brush;
ent_fire func_brush addoutput"classname brush8;
ent_fire brush8 addoutput"origin -2782.3 4785 126;
ent_fire brush* addoutput"Solid 2;
ent_fire brush* addoutput"maxs 0 25;
ent_fire brush* disable;
Test_Wait .1;
ent_fire brush* enable;
Test_Wait .1;
ent_create item_healthkit_medium;ent_fire item_healthkit_medium addoutput"hammerid 100";test_wait .1;ent_keyvalue 100 classname Health1 origin"-3005.3 4641.4 166.3"OnPlayerTouch"Health1,addoutput,origin -3005.3 4641.4 166.3;
ent_create item_ammopack_medium;ent_fire item_ammopack_medium addoutput"hammerid 102";test_wait .1;ent_keyvalue 102 classname ammo origin"-3005.3 4576.1 166.3"OnPlayerTouch"ammo,addoutput,origin -3005.3 4576.1 166.3;
ent_create item_healthkit_small;ent_fire item_healthkit_small addoutput"hammerid 103";test_wait .1;ent_keyvalue 103 classname Health2 origin"-3251.8 4572 0.3"OnPlayerTouch"Health2,addoutput,origin -3251.8 4572 0.3;
ent_create item_ammopack_small;ent_fire item_ammopack_small addoutput"hammerid 104";test_wait .1;ent_keyvalue 104 classname ammo2 origin"-3251.8 4630 0.3"OnPlayerTouch"ammo2,addoutput,origin -3251.8 4630 0.3;
Test_Wait .1;
c;ent_fire func_respawnroomvisualizer addoutput"hammerid 105";test_wait .1;ent_keyvalue 105 classname red_block maxs"200 10 260"origin"-3073 2238 0"solid"2;
c;ent_fire func_respawnroomvisualizer addoutput"hammerid 106";test_wait .1;ent_keyvalue 106 classname red_block maxs"200 10 260"origin"-4080 2238 0"solid"2;
ent_fire red_block setteam 2;
c;ent_fire func_respawnroomvisualizer addoutput"hammerid 107";test_wait .1;ent_keyvalue 107 classname blue_block maxs"10 200 260"origin"-3770 6000 0"solid"2;
ent_fire blue_block setteam 3;
Test_Wait .1
d;ent_fire item_teamflag addoutput"hammerid 108";test_wait .1;ent_keyvalue 108 classname redflag GameType"0"StartDisabled"0"origin"-3493 2400.4 44.7"angles"0 120"OnCapture"redflag,addoutput,origin -3493 2400.4 44.7"OnReturn"redflag,addoutput,origin -3493 2400.4 44.7;
ent_fire redflag setteam 2;
d;ent_fire item_teamflag addoutput"hammerid 109";test_wait .1;ent_keyvalue 109 classname blueflag GameType"0"StartDisabled"0"origin"-3906 6162.3 44.7"angles"0 300"OnCapture"blueflag,addoutput,origin -3906 6162.3 44.7"OnReturn"blueflag,addoutput,origin -3906 6162.3 44.7;
ent_fire blueflag setteam 3;ent_fire blueflag skin 1;
Test_Wait .1;
e;ent_fire func_capturezone addoutput"hammerid 110";test_wait .1;ent_keyvalue 110 classname redcapzone controlpoint"1"origin"-3493 2400.4 44.7"maxs"60 80 100"mins"-60 -80"OnCapture"red_flag_count,add,1"Solid"2;
ent_fire redcapzone setteam 2;
e;ent_fire func_capturezone addoutput"hammerid 111";test_wait .1;ent_keyvalue 111 classname bluecapzone controlpoint"1"origin"-3906 6162.3 44.7"maxs"60 80 100"mins"-60 -80"OnCapture"blue_flag_count,add,1"Solid"2;
ent_fire bluecapzone setteam 3;
f;ent_fire trigger_multiple addoutput"hammerid 112";test_wait .1;ent_keyvalue 112 classname tm maxs"30 50 90"mins"-30 -50 -90"solid"2"spawnflags"1"origin"-3086 6053 0"OnStartTouch"blue_cab,setanimation,Open"OnEndTouchAll"blue_cab,setanimation,Close;
f;ent_fire trigger_multiple addoutput"hammerid 113";test_wait .1;ent_keyvalue 113 classname tm maxs"30 50 90"mins"-30 -50 -90"solid"2"spawnflags"1"origin"-3426 1844 0"OnStartTouch"red_cab,setanimation,Open"OnEndTouchAll"red_cab,setanimation,Close;
ent_fire tm addoutput"OnStartTouch pcc,command,impulse 101;
h;ent_fire info_player_teamspawn addoutput"classname spawnblu";ent_fire spawnblu addoutput"origin -3237 6879 289;
Test_Wait .1;
h;ent_fire info_player_teamspawn addoutput"classname spawnblu1";ent_fire spawnblu1 addoutput"origin -3237 6879 289;
Test_Wait .1;
h;ent_fire info_player_teamspawn addoutput"classname spawnblu2";ent_fire spawnblu2 addoutput"origin -3237 6498 158;
Test_Wait .1;
ent_fire spawnbl* setteam 3;
h;ent_fire info_player_teamspawn addoutput"classname spawnred";ent_fire spawnred addoutput"origin -3401 1448 15;
Test_Wait .1;
h;ent_fire info_player_teamspawn addoutput"classname spawnred1";ent_fire spawnred1 addoutput"origin -3401 1437 15;
Test_Wait .1;
ent_fire spawnre* setteam 2;
Test_Wait .1;
ent_fire spawn* addoutput"classname info_player_teamspawn;
i;ent_fire game_text addoutput"hammerid 114";test_wait .1;ent_keyvalue 114 classname ctf_flag message"Capture the Flag"channel"1"holdtime"10"color"255 255 255"x"-1"y".14"spawnflags"1"
give logic_timer;ent_fire logic_timer addoutput"hammerid 115";test_wait .1;ent_keyvalue 115 classname timer_ctf_text OnTimer"ctf_*,display;
ent_fire timer_ctf_text refiretime 1;
give team_round_timer;ent_fire team_round_timer addoutput"hammerid 116";test_wait .1;ent_keyvalue 116 OnRoundStart"credits,display,,5"OnRoundStart"blueflag,addoutput,origin -3906 6162.3 44.7"OnRoundStart"redflag,addoutput,origin -3493 2400.4 44.7;
ent_keyvalue 116 OnRoundStart"red_flag_count,setvalue,0"OnRoundStart"blue_flag_count,setvalue,0;
Test_Wait .1;
i;ent_fire game_text addoutput"hammerid 117";test_wait .1;ent_keyvalue 117 classname ctf_blue channel"3"holdtime"10"color"255 255 255"x".58"y".8"spawnflags"1;
j;ent_fire math_counter addoutput"hammerid 118";test_wait .1;ent_keyvalue 118 classname blue_flag_count min"0"max"3"OutValue"lc_blue_flag_count,InValue"OnHitMax"lr_blue_win,Trigger;
k;ent_fire logic_case addoutput"hammerid 119";test_wait .1;ent_keyvalue 119 classname lc_blue_flag_count Case01"0"Case02"1"Case03"2"Case04"3"OnCase01"ctf_blue,addoutput,message Blu Team (0)"OnCase02"ctf_blue,addoutput,message Blu Team (1);
ent_keyvalue 119 OnCase03"ctf_blue,addoutput,message Blu Team (2)"OnCase04"ctf_blue,addoutput,message Blu Team (3);
l;ent_fire game_round_win addoutput"classname win_blue";ent_fire win_blue setteam 3
m;ent_fire logic_relay addoutput"classname lr_blue_win";ent_fire lr_blue_win addoutput"OnTrigger win_blue,RoundWin;
i;ent_fire game_text addoutput"hammerid 120";test_wait .1;ent_keyvalue 120 classname ctf_red channel"2"holdtime"10"color"255 255 255"x".32"y".8"spawnflags"1;
j;ent_fire math_counter addoutput"hammerid 121";test_wait .1;ent_keyvalue 121 classname red_flag_count min"0"max"3"OutValue"lc_red_flag_count,InValue"OnHitMax"lr_red_win,Trigger;
k;ent_fire logic_case addoutput"hammerid 122";test_wait .1;ent_keyvalue 122 classname lc_red_flag_count Case01"0"Case02"1"Case03"2"Case04"3"OnCase01"ctf_red,addoutput,message Red Team (0)"OnCase02"ctf_red,addoutput,message Red Team (1);
ent_keyvalue 122 OnCase03"ctf_red,addoutput,message Red Team (2)"OnCase04"ctf_red,addoutput,message Red Team (3)"
l;ent_fire game_round_win addoutput"classname win_red";ent_fire win_red setteam 2;
m;ent_fire logic_relay addoutput"classname lr_red_win";ent_fire lr_red_win addoutput"OnTrigger win_red,RoundWin;
Test_Wait .1;
ent_fire win_* addoutput"force_map_reset 0;
ent_fire lr_* addoutput"OnTrigger psc,Command,mp_scrambleteams;
ent_fire lr_* addoutput"OnTrigger psc,Command,mp_restartround 10,1.5;
give game_text_tf;ent_fire game_text_tf addoutput"hammerid 123";test_wait .1;ent_keyvalue 123 classname credits message"CTF script by FrozenWasteland"icon"voice_player;
Test_Wait .1;
mp_restartround 1;
///