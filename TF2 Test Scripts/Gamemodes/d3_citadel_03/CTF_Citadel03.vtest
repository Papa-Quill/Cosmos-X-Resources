// CTF - d3_citadel_03
alias a"prop_dynamic_create props_trainyard/crane_platform001;
alias b"prop_dynamic_create props_spytech/work_table001;
alias c"prop_dynamic_create props_gameplay/resupply_locker;
alais d"give func_respawnroomvisualizer;
alias e"ent_create item_teamflag;
alias f"give func_capturezone;
alias g"give info_player_teamspawn;
alias h"give trigger_multiple;
alias i"give game_text;
alias j"give math_counter;
alias k"give logic_case;
alias l"give game_round_win;
alias m"give logic_relay;
ent_fire prop_physics kill;ent_fire logic_relay kill;ent_fire trigger_once kill;ent_fire trigger_multiple kill;ent_fire logic_case kill;ent_fire math_counter kill;ent_fire logic_timer kill
noclip;
give point_clientcommand;ent_fire point_clientcommand addoutput"classname pcc;
give point_servercommand;ent_fire point_servercommand addoutput"classname psc;
Test_Wait 1;
setpos 95 29 3332;setang 90 90;
Test_Wait .1;
a;ent_setname red_spawn_wall;ent_fire red_spawn_wall addoutput"origin 5248 63 2110";ent_fire red_spawn_wall addoutput"angles 90;
a;ent_setname blue_spawn_wall;ent_fire blue_spawn_wall addoutput"origin 7680 -576 2198";ent_fire blue_spawn_wall addoutput"angles 90 90;
Test_Wait .1;
b;ent_setname blue_table;ent_fire blue_table addoutput"origin 6783 34 2112";ent_fire blue_table addoutput"angles 0 90;
b;ent_setname red_table;ent_fire red_table addoutput"origin 6271 -93 2112";ent_fire red_table addoutput"angles 0 90;
Test_Wait .1;
c;ent_setname red_cab;ent_fire red_cab addoutput"origin 5909 13 2112";ent_fire red_cab addoutput"angles 0 90;
c;ent_setname blue_cab;ent_fire blue_cab addoutput"origin 7442 63 2112";ent_fire blue_cab addoutput"angles 0;
Test_Wait .1;
prop_dynamic_create props_gameplay/cap_point_base;ent_setname build_block;ent_fire build_block addoutput"origin 6062 476 2112";ent_fire build_block addoutput"angles 0";ent_fire build_block disable;
Test_Wait .1;
d;ent_fire func_respawnroomvisualizer addoutput"hammerid 1";test_wait .1;ent_keyvalue 1 classname blue_block maxs"10 210 260"origin"7299 156 2113"solid"2;
ent_fire blue_block setteam 3;
Test_Wait .1;
d;ent_fire func_respawnroomvisualizer addoutput"hammerid 2";test_wait .1;ent_keyvalue 2 classname red_block maxs"10 440 260"origin"6079 1 2112"solid"2;
ent_fire red_block setteam 2;
e;ent_fire item_teamflag addoutput"hammerid 3";test_wait .1;ent_keyvalue 3 classname redflag origin"6269 -94 2156"angles"0 120"OnCapture"redflag,addoutput,origin 6269 -94 2156"OnReturn"redflag,addoutput,origin 6269 -94 2156;
ent_fire redflag setteam 2;
Test_Wait .1;
e;ent_fire item_teamflag addoutput"hammerid 4";test_wait .1;ent_keyvalue 4 classname blueflag origin"6775 32 2156"angles"0 300"OnCapture"blueflag,addoutput,origin 6775 32 2156"OnReturn"blueflag,addoutput,origin 6775 32 2156;
ent_fire blueflag setteam 3;ent_fire blueflag skin 1;
Test_Wait .1;
f;ent_fire func_capturezone addoutput"hammerid 5";test_wait .1;ent_keyvalue 5 classname redcapzone origin"6269 -94 2156"maxs"60 80 100"mins"-60 -80"OnCapture"red_flag_count,add,1"Solid"2;
ent_fire redcapzone setteam 2;
Test_Wait .1;
f;ent_fire func_capturezone addoutput"hammerid 6";test_wait .1;ent_keyvalue 6 classname bluecapzone origin"6775 32 2156"maxs"60 80 100"mins"-60 -80"OnCapture"blue_flag_count,add,1"Solid"2;
ent_fire bluecapzone setteam 3;
g;ent_fire info_player_teamspawn addoutput"classname spawnblue";ent_fire spawnblue addoutput"origin 7688 -500 2115";ent_fire spawnblue setteam 3;
test_wait .1;
g;ent_fire info_player_teamspawn addoutput"classname spawnred";ent_fire spawnred addoutput"origin 5825 838 2215";ent_fire spawnred setteam 2;
test_wait .1;
ent_fire spawn* addoutput"classname info_player_teamspawn;
h;ent_fire trigger_multiple addoutput"hammerid 7";test_wait .1;ent_keyvalue 7 classname tm maxs"30 50 90"mins"-30 -50 -90"OnStartTouch"red_cab,setanimation,Open"OnEndTouchAll"red_cab,setanimation,Close"origin"5909 13 2112"spawnflags"1"solid"2;
test_wait .1;
h;ent_fire trigger_multiple addoutput"hammerid 8";test_wait .1;ent_keyvalue 8 classname tm maxs"30 50 90"mins"-30 -50 -90"OnStartTouch"blue_cab,setanimation,Open"OnEndTouchAll"blue_cab,setanimation,Close"origin"7442 63 2112"spawnflags"1"solid"2;
test_wait .1;
ent_fire tm addoutput"OnStartTouch pcc,command,impulse 101;
i;ent_fire game_text addoutput"hammerid 11";test_wait .1;ent_keyvalue 11 classname ctf_flag message"Capture the Flag"channel"1"holdtime"10"color"255 255 255"x"-1"y".14"spawnflags"1;
give logic_timer;ent_fire logic_timer addoutput "hammerid 12";test_wait .1;ent_keyvalue 12 classname timer_ctf_text refiretime"1"startdisabled"0"UseRandomTime"0"OnTimer"ctf_*,display,,0,-1;
ent_fire timer_ctf_text enable;ent_fire timer_ctf_text firetimer;
give team_round_timer;ent_fire team_round_timer addoutput"hammerid 13";test_wait .1;ent_keyvalue 13 OnRoundStart"credits,display,,5"OnRoundStart"blueflag,addoutput,origin 6775 32 2156"OnRoundStart"redflag,addoutput,origin 6269 -94 2156;
ent_keyvalue 13 OnRoundStart"red_flag_count,setvalue,0"OnRoundStart"blue_flag_count,setvalue,0;
Test_Wait .1;
i;ent_fire game_text addoutput"hammerid 14";test_wait .1;ent_keyvalue 14 classname ctf_blue channel"3"holdtime"10"color"255 255 255"x".58"y".8"spawnflags"1;
j;ent_fire math_counter addoutput"hammerid 15";test_wait .1;ent_keyvalue 15 classname blue_flag_count min"0"max"3"OutValue"lc_blue_flag_count,InValue"OnHitMax"lr_blue_win,Trigger;
k;ent_fire logic_case addoutput"hammerid 16";test_wait .1;ent_keyvalue 16 classname lc_blue_flag_count Case01"0"Case02"1"Case03"2"Case04"3"OnCase01"ctf_blue,addoutput,message Blu Team (0)"OnCase02"ctf_blue,addoutput,message Blu Team (1);
ent_keyvalue 16 OnCase03"ctf_blue,addoutput,message Blu Team (2)"OnCase04"ctf_blue,addoutput,message Blu Team (3);
l;ent_fire game_round_win addoutput"classname win_blue";ent_fire win_blue setteam 3;
m;ent_fire logic_relay addoutput"classname lr_blue_win";ent_fire lr_blue_win addoutput"OnTrigger win_blue,RoundWin;
i;ent_fire game_text addoutput"hammerid 17";test_wait .1;ent_keyvalue 17 classname ctf_red channel"2"holdtime"10"color"255 255 255"x".32"y".8"spawnflags"1;
j;ent_fire math_counter addoutput"hammerid 18";test_wait .1;ent_keyvalue 18 classname red_flag_count min"0"max"3"OutValue"lc_red_flag_count,InValue"OnHitMax"lr_red_win,Trigger;
k;ent_fire logic_case addoutput"hammerid 19";test_wait .1;ent_keyvalue 19 classname lc_red_flag_count Case01"0"Case02"1"Case03"2"Case04"3"OnCase01"ctf_red,addoutput,message Red Team (0)"OnCase02"ctf_red,addoutput,message Red Team (1);
ent_keyvalue 19 OnCase03"ctf_red,addoutput,message Red Team (2)"OnCase04"ctf_red,addoutput,message Red Team (3)"
l;ent_fire game_round_win addoutput"classname win_red";ent_fire win_red setteam 2;
m;ent_fire logic_relay addoutput"classname lr_red_win";ent_fire lr_red_win addoutput"OnTrigger win_red,RoundWin;
Test_Wait .1;
ent_fire win_* addoutput"force_map_reset 0
ent_fire lr_* addoutput"OnTrigger psc,Command,mp_scrambleteams;
ent_fire lr_* addoutput"OnTrigger psc,Command,mp_restartround 10,1.5;
give game_text_tf;ent_fire game_text_tf addoutput"hammerid 89";test_wait .1;ent_keyvalue 89 classname credits message"CTF script by FrozenWasteland"icon"voice_player;
Test_Wait .1;
mp_restartround 1;
///